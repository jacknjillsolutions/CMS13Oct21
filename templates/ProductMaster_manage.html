{% extends "header.html" %}
{% block title %}JacknJill{% endblock %}
{% block description %}{% endblock %}
{% block keyword %}{% endblock %}
{% load static %}
{% block content %}
<link href='https://code.jquery.com/ui/1.12.0/themes/smoothness/jquery-ui.css' rel='stylesheet'> 
<script src= "https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"> </script> 
<script src= "https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"> </script>
<script> 


 $(document).ready(function(){
        $('.add-more-btn').click(function() {
            /*var clone = $('.form-block_1:first').clone();
            $('#form-new').append(clone);*/
            var $tableBody = $('.data-table ').find("tbody");
            $trFirst = $tableBody.find("tr:first");
            $trNew = $trFirst.clone();

			var $tableBody1 = $('.data-table1 ').find("tbody");
			($trNew).attr("readonly", true);
			($trNew).each(function () {
                   $(this).children("td").each(function () {
                   		$(this).find("input").prop("readonly", true);
                   });

               });
			var rowCount = $('.data-table1 tr').length+1;
			($trNew).prepend($('<td>').append(rowCount));
			$tableBody1.prepend($trNew);
        });
    });
    $(document).ready(function() { 
        $(function() { 
            $( "#my_date_picker" ).datepicker(); 
        }); 

    }) 
	$( ".start_date" ).datepicker({
	  defaultDate: +7
	});

</script> 
<script>
$(document).ready( function() {
    var now = new Date();
 
    var day = ("0" + now.getDate()).slice(-2);
    var month = ("0" + (now.getMonth() + 1)).slice(-2);

    var today = now.getFullYear()+"-"+(month)+"-"+(day) ;


   $('#datePicker').val(today);
});</script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<style>
th{
	text-align: center !important;
	padding: 7px !important;
	border: 1px solid black !important;
}
th{
	
	color:#000 !important;
}

td{
    text-align: center !important;
    padding: 25px !important;
	border: 1px solid black !important;

}
</style>



<div class="container">
	<div style="border:1px solid #dddddd;padding:10px;margin:10px;">
		<div class="col-md-12 col-sm-12 col-xs-12">
				<h2><b><center> Manage Product Master</center></b></h2>

			<form  method="POST"  action="/manageproductmaster/" enctype="">  
				{% csrf_token %}
				
                <label><b>Code</b></label>
                <input type="text" name="PCode[]" style="width:100px;" id="code" onclick="myFunction()" value ="{{PM.PCode}}" required>&emsp;&emsp;
                <label><b>Name</b></label>
                <input type="text" name="PName[]"style="width: 100px;" width="70px" id="name" value = "{{PM.PName}}"required>&emsp;&emsp;
                <!--<label for="lname"><b>Document</b></label>
                <input type="file" name="document" width="100px" id="document"required value="{{PM.document}}">&emsp;&emsp;-->
                <label><b>Prod Type</b></label>&emsp;&emsp;
                <select id="prod" name="pTypeCode[]" value="{{PM.pTypeCode}}" style="width: 100px;"> 
                 <option value="{{PM.pTypeCode}}"{% if PM.pTypeCode == form.PM.value %} selected{% endif %} selected>{{PM.pTypeCode}}</option>
                    {% for Prodtype in Prodtype %}
                    <option value="{{Prodtype.pTypeCode}}">{{Prodtype.pTypeCode}}</option>
                    {% endfor %}
               </select>&emsp;&emsp;
               <b>Active</b>&emsp;
                <select name="active[]" id='active' value="{{PM.active}}">
                    <option></option>
                    <option value="yes">Yes</option>
                    <option value="no">NO</option>
                </select><br></br>  
			    &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
                <button type="submit" class="btn btn-primary btn-lg" id="getdata" value=""> Get Data </button>
			
            <br><br>
            </form>
            <form  method="POST"  action="/manageproductmaster1/" enctype="">  
                {% csrf_token %}
          	 	
            <div class="col-md-12 col-sm-12 col-xs-12" id="table_notshow">
                <div class="row">
                    <div class="col-md-12 col-sm-12 col-xs-12">
        
                        <h3><b><center></center></b></h3>
                        <table>
                            <thead>
                                <tr>
                                   <th>Cust Type</th>                            
                                    <th>Start Date </th>
                                    <th>End Date</th> 
                                    <th>Unit Rate</th>
                                    <th>Qty From</th>
                                    <th>Qty TO</th>
                                    <th>Remove</th>
                                
                                </tr>
                            </thead>
                            <tbody id='form' class="form-block_1">
                                <input type="hidden" maxlength= 10 value="{{date1}}" name="recdateR_t2" >
                                
                                    {% for PM in PM %}
                                    <tr class="odd"  role="row">
                                        
                                        <input type="hidden" value="{{PM.id}}" name="PMid1[]" style="text-align:center">
                                        <td>&emsp;&emsp;&emsp;&emsp;    
                                            <select name="custCode[]" id="custCode" value="{{PM.custCode}}">

                                                <option value="{{PM.custCode}}"{% if PM.custCode == form.PM.value %} selected{% endif %} selected>{{PM.CustCode}}</option>
                                                {% for customer in customer %}
                                                <option value="{{customer.custCode}}">{{customer.custCode}}</option>
                                                {% endfor %}
                                            </select>
                                            
                                        </td>  
                                       <td>
                                        <input type="date" id="datePicker" name="PStDate[]"  style="width:150px" value= "{{PM.PStDate|date:'Y-m-d'}}"  required="" id="pstdate">
                                        </td>
                                        <td>
                                        <input type="date" id="datePicker1" name="PEndDate[]"  style="width:150px" value= "{{PM.PEndDate|date:'Y-m-d'}}" required="" id="enddate">
                                        </td>
                                        <td>&emsp;<input type="number" class="width_percent workflowinputRadius" name="unitRate[]" step="any" id="unitrate" value="{{PM.unitRtae}}" style="width:100px"></td>
                                        <td>&emsp;&emsp;
                                        <input type="number" class="width_percent workflowinputRadius" name="qty_from[]" step="any" style="width:100px" id="qty" value="{{PM.qty_from}}"></td>
                                        <td>&emsp;&emsp;
                                        <input type="number" class="width_percent workflowinputRadius" name="qty_to[]" step="any" style="width:100px" id="qty1" value="{{qty_to}}"></td>               
                                        
                                        
                                        <td>
                                            <select name="remove[]" value="{{PM.id}}" style="width:65px">
                                                <option value="N">N</option>
                                                <option value="Y">Y</option>
                                            </select>
                                        </td>
                                        
                                        <input type="hidden" value="{{PM.branch}}" name="branch11" />
                                       
                                   </tr>        
                                    {% endfor %}
                           </tbody>             
                        </table>
                    </div>
                </div>
                    

                        
                    </div>
               
                   
        
                        
        
                               
                    
        
                                
                  
            &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
            &emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;
            <button type="submit" class="btn btn-primary btn-lg" > Submit </button>
        </form>	
        </div></div></div>
        <br>
        <br>
        <br>
        <br>
        <br>
        
        
        
        
        
        
        {% endblock %}
